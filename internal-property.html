<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mountain Nest - VA Mountain Cabins</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Iconify -->
    <script src="https://code.iconify.design/3/3.1.1/iconify.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700;800&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/colors.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="logo.jpeg">
    <!-- Icons from Font Awesome for gallery -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        // Load header and footer
        document.addEventListener('DOMContentLoaded', function() {
            fetch('header.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-placeholder').innerHTML = data;
                });
                
            fetch('footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-placeholder').innerHTML = data;
                });
        });
    </script>
    <style>
        /* Custom gallery styles */
        .tab-active {
            border-bottom: 3px solid #14b8a6;
            color: #14b8a6;
        }

        .calendar-date {
            transition: all 0.2s ease;
        }

        .calendar-date:hover {
            transform: scale(1.05);
        }

        .review-card {
            transition: all 0.3s ease;
        }

        .review-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .slideshow-active {
            animation: fadeInOut 0.5s ease-in-out;
        }

        @keyframes fadeInOut {
            0% {
                opacity: 0.7;
            }

            100% {
                opacity: 1;
            }
        }

        .thumbnail-hover:hover {
            transform: scale(1.05);
            transition: transform 0.2s ease;
        }

        .progress-bar-animation {
            transition: width 0.1s linear;
        }

        /* Gallery specific styles */
        .gallery-section {
            margin-top: 1rem;
            background-color: white;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 0.5rem;
            border-radius: 1rem;
        }

        @media (min-width: 768px) {
            .gallery-grid {
                grid-template-columns: 2fr 1fr 1fr;
            }
        }

        .main-gallery-image {
            grid-column: 1;
            grid-row: 1 / span 2;
            position: relative;
            cursor: pointer;
            height: 400px; /* Set a fixed height for the main image */
        }

        .secondary-gallery-image {
            position: relative;
            cursor: pointer;
            height: 195px; /* Approximately half the height of the main image */
        }

        .gallery-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0; /* Reset border radius for all images */
        }

        .show-all-btn {
            position: absolute;
            bottom: 20px;
            right: 20px;
            z-index: 5;
        }
        
        .show-all-btn button {
            background-color: rgba(108, 117, 125, 0.8);
            font-weight: 500;
        }
        
        .thumbnail-img {
            width: 100%;
            height: 96px; /* Equivalent to h-24 in Tailwind */
            object-fit: cover;
            border-radius: 8px;
        }
        
        .active-thumbnail {
            border: 2px solid #0d6efd; /* Bootstrap primary color */
        }
        
        .bg-overlay {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* Lightbox styles */
        .lightbox-modal {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 1040;
            display: none;
        }

        .lightbox-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 4px;
            background-color: #0d6efd; /* Bootstrap primary color */
            z-index: 1010;
            display: none;
        }

        .lightbox-controls {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1030;
        }
        
        /* Thumbnail panel styles */
        .thumbnail-panel {
            position: fixed;
            top: 0;
            right: 0;
            height: 100%;
            width: 300px;
            background-color: rgba(33, 37, 41, 0.95); /* Bootstrap dark color with opacity */
            z-index: 1050;
            transition: transform 0.3s ease-in-out;
            overflow-y: auto;
        }
        
        .thumbnail-hidden {
            transform: translateX(100%);
        }
        
        #thumbnailGrid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }
        
        .cursor-pointer {
            cursor: pointer;
        }

        .lightbox-main {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 0 4rem;
        }

        .lightbox-nav-btn {
            position: absolute;
            color: white;
            cursor: pointer;
            z-index: 20;
        }

        .lightbox-prev {
            left: 1.5rem;
        }

        .lightbox-next {
            right: 1.5rem;
        }

        .lightbox-image-container {
            max-width: 1280px;
            max-height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
        }

        /* This style is already defined above */

        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }

        .thumbnail-item {
            position: relative;
            cursor: pointer;
        }

        .thumbnail-active {
            border: 2px solid #3b82f6;
        }

        /* Share modal */
        .share-modal {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 50;
            display: none;
        }

        .share-modal-content {
            background-color: white;
            border-radius: 0.5rem;
            padding: 1.5rem;
            max-width: 28rem;
            width: 100%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .share-buttons {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .share-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            color: white;
            transition: background-color 0.2s;
        }

        .facebook-btn {
            background-color: #2563eb;
        }
        
        .facebook-btn:hover {
            background-color: #1d4ed8;
        }

        .twitter-btn {
            background-color: #60a5fa;
        }
        
        .twitter-btn:hover {
            background-color: #3b82f6;
        }

        .pinterest-btn {
            background-color: #dc2626;
        }
        
        .pinterest-btn:hover {
            background-color: #b91c1c;
        }

        /* Show all modal */
        .show-all-modal {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 40;
            display: none;
            overflow-y: auto;
        }

        .all-images-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .all-images-grid img {
            border-radius: 8px;
        }

        @media (min-width: 768px) {
            .all-images-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .all-images-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1280px) {
            .all-images-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        /* New property styles */
        /* .property-details {
            padding-top: 30px;
        } */
        
        .gallery-container {
            margin-bottom: 30px;
        }
        
        .main-image {
            height: 400px;
            width: 100%;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .thumbnail-container {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .thumbnail {
            width: 100px;
            height: 70px;
            object-fit: cover;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .thumbnail:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .property-title {
            color: var(--primary-dark);
            margin-bottom: 15px;
        }
        
        .property-location {
            color: var(--secondary-dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            font-size: 1.1rem;
        }
        
        .property-features {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .feature {
            display: flex;
            align-items: center;
            color: var(--primary-dark);
        }
        
        .feature-icon {
            margin-right: 8px;
            color: var(--gold);
        }
        
        .price {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 5px;
        }
        
        .price-note {
            font-size: 0.9rem;
            color: var(--secondary-dark);
            margin-bottom: 20px;
        }
        
        .booking-widget {
            background-color: var(--accent);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            margin-left: 15px;
        }
        
        .property-details-bg {
            background-color: var(--accent);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }


        .date-input {
            margin-bottom: 15px;
        }
        
        .nav-tabs {
            border-bottom: 2px solid var(--secondary-light);
            margin-bottom: 25px;
        }
        
        .nav-link {
            color: var(--primary-dark);
            font-weight: 500;
            padding: 10px 20px;
            border: none;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
        }
        
        .nav-link.active {
            color: var(--gold);
            border-bottom: 3px solid var(--gold);
            background-color: transparent;
        }
        
        .amenities-list {
            column-count: 2;
            column-gap: 30px;
        }
        
        .amenity-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            break-inside: avoid;
        }
        
        .amenity-icon {
            color: var(--gold);
            margin-right: 10px;
        }
        
        .map-container {
            height: 300px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .review-card {
            background-color: var(--accent);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .reviewer {
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .review-date {
            color: var(--secondary-dark);
            font-size: 0.9rem;
        }
        
        .review-stars {
            color: gold;
            margin-bottom: 10px;
        }
        
        .review-text {
            color: var(--secondary-dark);
        }
        /* Apply specific corner roundings using direct classes */
        .left-rounded {
            border-top-left-radius: 8px;
            border-bottom-left-radius: 8px;
        }
        
        .top-right-rounded {
            border-top-right-radius: 8px;
        }
        
        .bottom-right-rounded {
            border-bottom-right-radius: 8px;
        }
        
        .property-img {
            border-radius: 10px;
        }
    </style>
</head>

<body>
    <!-- Header placeholder -->
    <div id="header-placeholder"></div>
    
    <!-- Gallery Component -->
    <div class="gallery-section mx-3">
        <!-- Main Gallery Section -->
        <div class="container py-4">
            <!-- Image Grid -->
            <h3 class="fw-bold text-secondary-dark">VA MOUNTAIN CABINS</h3>
            <div class="adr-area" style="margin-bottom: 20px;">
                                                    <h6 class="text-secondary-dark"><i class="fa-solid fa-location-dot text-secondary-dark"></i> lorem, xy</h6>
                                            </div>
            <div class="position-relative mb-4">
                <div class="gallery-grid" id="imageGrid">
                <!-- Main large image - left side rounded -->
                <div class="main-gallery-image" onclick="openLightbox(0)">
                    <img src="images.jpeg" alt="Cabin Exterior" class="gallery-img left-rounded">
                </div>

                <!-- Secondary images - top row -->
                <div class="secondary-gallery-image" onclick="openLightbox(1)">
                    <img src="images.jpeg" alt="Cabin Side View" class="gallery-img">
                </div>
                <div class="secondary-gallery-image" onclick="openLightbox(2)">
                    <img src="images.jpeg" alt="Deck View" class="gallery-img top-right-rounded">
                </div>
                
                <!-- Secondary images - bottom row -->
                <div class="secondary-gallery-image" onclick="openLightbox(3)">
                    <img src="images.jpeg" alt="King Bedroom" class="gallery-img">
                </div>
                <div class="secondary-gallery-image" onclick="openLightbox(4)">
                    <img src="images.jpeg" alt="Game Room" class="gallery-img bottom-right-rounded">
                </div>
            </div>
                <!-- Show All Button -->
                <div class="show-all-btn">
                    <button onclick="openShowAll()" title="Show all photos" class="btn btn-secondary shadow-sm">
                        <span>Show All</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Lightbox Modal -->
        <div id="lightboxModal" class="lightbox-modal">
            <!-- Progress Bar for Slideshow -->
            <div id="progressBar" class="lightbox-progress progress-bar-animation" style="width: 0%"></div>

            <!-- Top Controls -->
            <div class="lightbox-controls">
                <div class="px-2 d-flex flex-column flex-sm-row justify-content-between align-items-start align-items-sm-center py-2">
                    <div class="d-flex align-items-center me-4">
                        <span class="text-white fs-5 fw-medium" id="imageCounter" aria-live="polite">1 / 12</span>
                    </div>
                    <div class="d-flex align-items-center border border-dark bg-secondary p-2">
                        <button onclick="startSlideshow()" id="slideshowBtn" aria-label="Start slideshow"
                            title="Start slideshow" class="btn btn-sm text-white me-2">
                            <i class="fa-solid fa-play" id="slideshowIcon"></i>
                        </button>
                        <button onclick="toggleThumbnails()" aria-label="Show thumbnails" title="Show thumbnails"
                            class="btn btn-sm text-white me-2">
                            <i class="fa-solid fa-border-all"></i>
                        </button>
                        <button onclick="searchImages()" aria-label="Search images" title="Search images"
                            class="btn btn-sm text-white me-2">
                            <i class="fa-solid fa-search"></i>
                        </button>
                        <button onclick="toggleFullscreen()" aria-label="Toggle fullscreen" title="Toggle fullscreen"
                            class="btn btn-sm text-white me-2">
                            <i class="fa-solid fa-expand" id="fullscreenIcon"></i>
                        </button>
                        <button onclick="openShareModal()" aria-label="Share image" title="Share image"
                            class="btn btn-sm text-white me-2">
                            <i class="fa-solid fa-share-nodes"></i>
                        </button>
                        <button onclick="closeLightbox()" aria-label="Close lightbox" title="Close lightbox"
                            class="btn btn-sm text-white">
                            <i class="fa-solid fa-times"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Main Image Container -->
            <div class="lightbox-main">
                <button onclick="previousImage()" aria-label="Previous image" title="Previous image"
                    class="lightbox-nav-btn lightbox-prev btn text-white">
                    <i class="fa-solid fa-chevron-left fs-2"></i>
                </button>

                <div class="lightbox-image-container">
                    <img id="lightboxImage" src="" alt="" class="lightbox-img slideshow-active">
                </div>

                <button onclick="nextImage()" aria-label="Next image" title="Next image"
                    class="lightbox-nav-btn lightbox-next btn text-white">
                    <i class="fa-solid fa-chevron-right fs-2"></i>
                </button>
            </div>

            <!-- Thumbnail Panel -->
            <div id="thumbnailPanel" class="thumbnail-panel">
                <div class="p-4">
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <button onclick="toggleThumbnails()" class="btn btn-sm text-white">
                            <i class="fa-solid fa-times"></i>
                        </button>
                    </div>
                    <div class="thumbnail-grid" id="thumbnailGrid">
                        <!-- Thumbnails will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Share Modal -->
        <div id="shareModal" class="share-modal">
            <div class="share-modal-content">
                <div class="d-flex align-items-center justify-content-between mb-4">
                    <h3 class="fs-5 fw-semibold">Share</h3>
                    <button id="copied" class="">
                        <span class="visually-hidden">copied</span>
                    </button>
                    <button onclick="closeShareModal()" class="btn btn-sm text-secondary">
                        <i class="fa-solid fa-times"></i>
                    </button>
                </div>

                <div class="share-buttons">
                    <button onclick="shareToFacebook()" class="share-btn facebook-btn">
                        <i class="fa-brands fa-facebook"></i>
                        <span>Facebook</span>
                    </button>
                    <button onclick="shareToTwitter()" class="share-btn twitter-btn">
                        <i class="fa-brands fa-twitter"></i>
                        <span>Twitter</span>
                    </button>
                    <button onclick="shareToPinterest()" class="share-btn pinterest-btn">
                        <i class="fa-brands fa-pinterest"></i>
                        <span>Pinterest</span>
                    </button>
                </div>

                <div class="border-top pt-3">
                    <input type="text" value="https://www.relaxresetbookdirect.com/cabin-w-fire-pit-and-mtn-views"
                        class="form-control mb-2" readonly>
                    <button onclick="copyLink()" class="btn btn-dark w-100">
                        Copy Link
                    </button>
                </div>
            </div>
        </div>

        <!-- Show All Images Modal -->
        <div id="showAllModal" class="show-all-modal">
            <div class="min-vh-100 p-4">
                <div class="d-flex align-items-center justify-content-between mb-4">
                    <h2 class="text-white fs-3 fw-semibold">All Photos - Cabin w/ Fire Pit and Mtn Views</h2>
                    <button onclick="closeShowAll()" class="btn btn-dark">
                        <i class="fa-solid fa-times"></i>
                    </button>
                </div>
                <div class="all-images-grid" id="allImagesGrid">
                    <!-- All images will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <div class="container property-details">
        <div class="row">
            <div class="col-lg-8 property-details-bg">
                <!-- Property Info -->
                <h1 class="property-title">Mountain Nest Cabin</h1>
                <p class="property-location">
                    <span class="iconify me-2" data-icon="mdi:map-marker"></span> Blue Ridge, Virginia
                </p>
                
                <div class="property-features">
                    <div class="feature">
                        <span class="iconify feature-icon" data-icon="mdi:account-group"></span> 
                        <span>8 Guests</span>
                    </div>
                    <div class="feature">
                        <span class="iconify feature-icon" data-icon="mdi:bed"></span> 
                        <span>3 Bedrooms</span>
                    </div>
                    <div class="feature">
                        <span class="iconify feature-icon" data-icon="mdi:shower"></span> 
                        <span>2 Bathrooms</span>
                    </div>
                </div>
                
                <div class="price">$249 <span style="font-size: 1rem;">/ night</span></div>
                <p class="price-note">Plus cleaning fee and service fee</p>
                
                <!-- Content Tabs -->
                <ul class="nav nav-tabs" id="propertyTabs" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="description-tab" data-bs-toggle="tab" href="#description" role="tab">Description</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="amenities-tab" data-bs-toggle="tab" href="#amenities" role="tab">Amenities</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="location-tab" data-bs-toggle="tab" href="#location" role="tab">Location</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="reviews-tab" data-bs-toggle="tab" href="#reviews" role="tab">Reviews</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="availability-tab" data-bs-toggle="tab" href="#availability" role="tab">Availability</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="policies-tab" data-bs-toggle="tab" href="#policies" role="tab">Policies</a>
                    </li>
                </ul>
                
                <div class="tab-content" id="propertyTabContent">
                    <!-- Description Tab -->
                    <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
                        <p>Nestled in the heart of Virginia's Blue Ridge Mountains, Mountain Nest Cabin offers a perfect blend of rustic charm and modern comfort. This three-bedroom cabin features panoramic mountain views from the spacious deck, a cozy stone fireplace, and a luxurious hot tub perfect for stargazing.</p>
                        
                        <p>The open-concept main living area includes a fully-equipped kitchen with stainless steel appliances, a dining area with seating for 8, and a comfortable living room with a large smart TV. Large windows throughout flood the space with natural light and showcase the stunning natural surroundings.</p>
                        
                        <p>The master bedroom features a king-sized bed and en-suite bathroom with a soaking tub and walk-in shower. Two additional bedrooms include a queen bed and two twin beds, making this cabin perfect for families or groups of friends.</p>
                        
                        <p>Located just 15 minutes from hiking trails and 20 minutes from downtown Blue Ridge, you'll have easy access to outdoor adventures and local restaurants and shops. This private mountain retreat offers the perfect base for exploring all that Virginia's mountains have to offer.</p>
                    </div>
                    
                    <!-- Amenities Tab -->
                    <div class="tab-pane fade" id="amenities" role="tabpanel" aria-labelledby="amenities-tab">
                        <h4 class="mb-4 text-secondary-dark">Cabin Amenities</h4>
                        <div class="amenities-list">
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:wifi"></span>
                                <span>Free WiFi</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:fire"></span>
                                <span>Wood-burning Fireplace</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:hot-tub"></span>
                                <span>Outdoor Hot Tub</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:television"></span>
                                <span>Smart TV with Streaming</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:grill"></span>
                                <span>Gas Grill</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:washing-machine"></span>
                                <span>Washer & Dryer</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:air-conditioner"></span>
                                <span>Air Conditioning</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:snowflake"></span>
                                <span>Heating</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:coffee-maker"></span>
                                <span>Coffee Maker</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:silverware-fork-knife"></span>
                                <span>Fully Equipped Kitchen</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:deck"></span>
                                <span>Private Deck</span>
                            </div>
                            <div class="amenity-item">
                                <span class="iconify amenity-icon" data-icon="mdi:parking"></span>
                                <span>Free Parking</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Location Tab -->
                    <div class="tab-pane fade" id="location" role="tabpanel" aria-labelledby="location-tab">
                        <h4 class="mb-3 text-secondary-dark">Location & Nearby Attractions</h4>
                        <p>Mountain Nest Cabin is located in the picturesque Blue Ridge Mountains, offering privacy while still being conveniently close to attractions and necessities.</p>
                        
                        <div class="map-container">
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d202914.8082469425!2d-80.13484433150594!3d37.239192089547705!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x884d7dce28c8ca0d%3A0x5f402706bc2136b8!2sBlue%20Ridge%2C%20VA!5e0!3m2!1sen!2sus!4v1627565889999!5m2!1sen!2sus" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h5 class="mb-3 text-secondary-dark">Distances</h5>
                                <ul>
                                    <li>15 min to hiking trails</li>
                                    <li>20 min to downtown Blue Ridge</li>
                                    <li>25 min to grocery stores</li>
                                    <li>30 min to fishing spots</li>
                                    <li>45 min to nearest ski resort</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5 class="mb-3 text-secondary-dark">Local Attractions</h5>
                                <ul>
                                    <li>Blue Ridge Parkway</li>
                                    <li>Appalachian Trail Access</li>
                                    <li>Local Wineries & Breweries</li>
                                    <li>Scenic Waterfalls</li>
                                    <li>Historical Downtown Area</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Availability Tab -->
                    <div class="tab-pane fade" id="availability" role="tabpanel" aria-labelledby="availability-tab">
                        <h4 class="mb-3 text-secondary-dark">Availability Calendar</h4>
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <h5 class="mb-2">June 2025</h5>
                                <div id="juneCalendar" class="d-flex flex-wrap gap-2"></div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <h5 class="mb-2">July 2025</h5>
                                <div id="julyCalendar" class="d-flex flex-wrap gap-2"></div>
                            </div>
                        </div>
                        <div class="text-muted">Select your dates to check availability. For latest info, contact host.</div>
                    </div>
                    <!-- Policies Tab -->
                    <div class="tab-pane fade" id="policies" role="tabpanel" aria-labelledby="policies-tab">
                        <div id="policies" class="section-container">
                            <h4 class="textColor fw-bold mb-4">Things to know</h4>
                            <div class="row">
                                <div class="col-lg-12 rule card mb-3">
                                    <div class="area card-body">
                                        <h4 class="main textColor fw-bold">House Rules</h4>
                                        <div class="rules-short"><p>Advance booking required with 50% payment.</p></div>
                                        <div class="rules-full hidden-content"><p>Advance booking required with 50% payment.</p></div>
                                    </div>
                                </div>
                                <div class="col-lg-12 safety card mb-3">
                                    <div class="area card-body">
                                        <h4 class="main textColor fw-bold">Safety &amp; Property</h4>
                                        <div class="safety-short">
                                            <p>Exterior security cameras on property</p>
                                            <p>Carbon monoxide alarm</p>
                                            <p>Smoke alarm</p>
                                        </div>
                                        <div class="safety-full hidden-content">
                                            <p>Exterior security cameras on property</p>
                                            <p>Carbon monoxide alarm</p>
                                            <p>Smoke alarm</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="cancel card mb-3 col-lg-12">
                                    <div class="area card-body">
                                        <h4 class="main textColor fw-bold">Cancellation policy</h4>
                                        <div class="cancellation-short" style="display: block;"><p>One hundred percent (100.00%) of the total booking charges (less $250.00 cancellation fee) will be refunded if the cancellation is made more than 60 days prior to the arrival date of the reservation. Fifty percent (50.00%) of the total booking charges (less $250.00 cancellation...</p></div>
                                        <div class="cancellation-full hidden-content">
                                            <p>One hundred percent (100.00%) of the total booking charges (less $250.00 cancellation fee) will be refunded if the cancellation is made more than 60 days prior to the arrival date of the reservation. Fifty percent (50.00%) of the total booking charges (less $250.00 cancellation fee) will be refunded if the cancellation is made more than 30 days prior to the arrival date of the reservation. For cancellations made within 30 days prior to the arrival date, no refund will be issued.</p>
                                            <p><strong>Additional Terms:</strong></p>
                                            <ul>
                                                <li>All cancellations must be made in writing via email or certified mail</li>
                                                <li>Cancellation fees are non-refundable administrative costs</li>
                                                <li>Weather-related cancellations follow the same policy unless deemed unsafe by local authorities</li>
                                                <li>Travel insurance is recommended for protection against unforeseen circumstances</li>
                                                <li>No-show reservations are treated as same-day cancellations</li>
                                            </ul>
                                            <p><strong>Modification Policy:</strong></p>
                                            <p>Modifications to existing reservations may be subject to rate differences and availability. A $50 modification fee applies to all changes made within 30 days of arrival.</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- <button class="show-more-btn" data-section="cancellation">Show More <i class="fas fa-chevron-down"></i></button> -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Reviews Tab -->
                    <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h4 class="mb-0 text-secondary-dark">Guest Reviews</h4>
                            <div>
                                <span class="fw-bold">4.9/5</span> 
                                <span class="text-warning">
                                    <span class="iconify" data-icon="mdi:star"></span>
                                    <span class="iconify" data-icon="mdi:star"></span>
                                    <span class="iconify" data-icon="mdi:star"></span>
                                    <span class="iconify" data-icon="mdi:star"></span>
                                    <span class="iconify" data-icon="mdi:star"></span>
                                </span>
                                <span class="text-muted">(45 reviews)</span>
                            </div>
                        </div>
                        
                        <!-- Sample Reviews -->
                        <div class="review-card">
                            <div class="review-header">
                                <div class="reviewer">Sarah M.</div>
                                <div class="review-date">June 2025</div>
                            </div>
                            <div class="review-stars">
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                            </div>
                            <div class="review-text">
                                <p>This cabin exceeded all our expectations! The views from the deck are absolutely breathtaking, especially at sunset. The hot tub was perfect after a day of hiking nearby trails. The cabin was spotlessly clean and had everything we needed. We will definitely be back!</p>
                            </div>
                        </div>
                        
                        <div class="review-card">
                            <div class="review-header">
                                <div class="reviewer">Mark T.</div>
                                <div class="review-date">May 2025</div>
                            </div>
                            <div class="review-stars">
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                            </div>
                            <div class="review-text">
                                <p>We had the most relaxing weekend at Mountain Nest. The cabin is beautifully decorated and has all the amenities you could want. The kitchen was well-stocked for cooking, the beds were comfortable, and the location was peaceful and private while still being close to activities. The hosts were responsive and provided great local recommendations.</p>
                            </div>
                        </div>
                        
                        <div class="review-card">
                            <div class="review-header">
                                <div class="reviewer">Jennifer R.</div>
                                <div class="review-date">April 2025</div>
                            </div>
                            <div class="review-stars">
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star-half"></span>
                            </div>
                            <div class="review-text">
                                <p>Our family of six had a wonderful stay at Mountain Nest. The cabin layout was perfect for us, with plenty of space for everyone. The kids loved exploring the property and watching wildlife from the deck. It was the perfect balance of rustic charm and modern comforts. The only minor issue was the spotty wifi, but it was actually nice to disconnect a bit.</p>
                            </div>
                        </div>
                        
                        <button class="btn btn-secondary-dark mt-3">Load More Reviews</button>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4">
                <!-- Booking Widget -->
                <div class="booking-widget">
                    <h4 class="mb-4 text-primary-dark">Book Your Stay</h4>
                    <form>
                        <div class="date-input">
                            <label class="form-label">Check-in</label>
                            <input type="date" class="form-control">
                        </div>
                        <div class="date-input">
                            <label class="form-label">Check-out</label>
                            <input type="date" class="form-control">
                        </div>
                        <div class="date-input">
                            <label class="form-label">Guests</label>
                            <select class="form-control">
                                <option>1 guest</option>
                                <option>2 guests</option>
                                <option>3 guests</option>
                                <option>4 guests</option>
                                <option>5 guests</option>
                                <option>6 guests</option>
                                <option>7 guests</option>
                                <option>8 guests</option>
                            </select>
                        </div>
                        <button type="submit" class="btn w-100" style="background-color: var(--gold); color: white;">Check Availability</button>
                    </form>
                    
                    <hr>
                    
                    <div class="d-flex justify-content-between mb-2">
                        <span>$249 x 5 nights</span>
                        <span>$1,245</span>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Cleaning fee</span>
                        <span>$100</span>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Service fee</span>
                        <span>$95</span>
                    </div>
                    
                    <hr>
                    
                    <div class="d-flex justify-content-between fw-bold">
                        <span>Total</span>
                        <span>$1,440</span>
                    </div> 
                </div>
                
                <!-- Host Info -->
                <!-- <div class="bg-accent p-4 rounded-3 shadow-sm">
                    <h5 class="text-primary-dark">Hosted by John</h5>
                    <p class="text-secondary-dark mb-3">Superhost Â· 4 years hosting</p>
                    <div class="d-flex align-items-center mb-3">
                        <img src="images.jpeg" alt="Host" class="rounded-circle me-3" width="50" height="50">
                        <div>
                            <div class="text-warning mb-1">
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                                <span class="iconify" data-icon="mdi:star"></span>
                            </div>
                            <span class="text-secondary-dark">45 Reviews</span>
                        </div>
                    </div>
                    <p class="text-secondary-dark mb-3">As a longtime local resident, I love sharing the beauty of the Virginia mountains with my guests. I'm always available to provide recommendations for trails, restaurants, and activities.</p>
                    <button class="btn btn-outline-secondary w-100">Contact Host</button>
                </div> -->
            </div>
        </div>
    </div>
    
    <!-- Footer placeholder -->
    <div id="footer-placeholder" class="mt-5"></div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    </div>

    <script>
        // public/Gallery Component JavaScript
        const images = [
            { src: 'images.jpeg', alt: 'Cabin Exterior' },
            { src: 'images.jpeg', alt: 'Cabin Side View' },
            { src: 'images.jpeg', alt: 'Deck View' },
            { src: 'images.jpeg', alt: 'King Bedroom' },
            { src: 'images.jpeg', alt: 'Game Room with Pool Table' },
            { src: 'images.jpeg', alt: 'Living Room' },
            { src: 'images.jpeg', alt: 'Kitchen' },
            { src: 'images.jpeg', alt: 'Bathroom' },
            { src: 'images.jpeg', alt: 'Hot Tub Area' },
            { src: 'images.jpeg', alt: 'Mountain View' },
            { src: 'images.jpeg', alt: 'Forest Setting' },
            { src: 'images.jpeg', alt: 'Fire Pit Area' },
            { src: 'images.jpeg', alt: 'Deck View' },
            { src: 'images.jpeg', alt: 'Cabin Side View' },
            { src: 'images.jpeg', alt: 'King Bedroom' },
            { src: 'images.jpeg', alt: 'Game Room with Pool Table' },
            { src: 'images.jpeg', alt: 'Cabin Exterior' },
            { src: 'images.jpeg', alt: 'Living Room' },
            { src: 'images.jpeg', alt: 'Kitchen' },
            { src: 'images.jpeg', alt: 'Bathroom' },
            { src: 'images.jpeg', alt: 'Hot Tub Area' },
            { src: 'images.jpeg', alt: 'Mountain View' },
            { src: 'images.jpeg', alt: 'Forest Setting' },
            { src: 'images.jpeg', alt: 'Fire Pit Area' },
            { src: 'images.jpeg', alt: 'Fire Pit Area' },
            { src: 'images.jpeg', alt: 'Fire Pit Area' }
        ];

        let currentImageIndex = 0;
        let isSlideshow = false;
        let slideshowInterval;
        let isFullscreen = false;
        let thumbnailsVisible = false;

        function openLightbox(index) {
            currentImageIndex = index;
            document.getElementById('lightboxModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            updateLightboxImage();
            populateThumbnails();
        }

        function closeLightbox() {
            document.getElementById('lightboxModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            stopSlideshow();
            exitFullscreen();
        }

        function updateLightboxImage() {
            const lightboxImage = document.getElementById('lightboxImage');
            lightboxImage.src = images[currentImageIndex].src;
            lightboxImage.alt = images[currentImageIndex].alt;
            document.getElementById('imageCounter').textContent = `${currentImageIndex + 1} / ${images.length}`;

            // Update active thumbnail
            updateActiveThumbnail();
        }

        function nextImage() {
            const lightboxImage = document.getElementById('lightboxImage');
            // Remove the current class to reset animation
            lightboxImage.classList.remove('slideshow-active');
            // Force reflow
            void lightboxImage.offsetWidth;

            currentImageIndex = (currentImageIndex + 1) % images.length;
            updateLightboxImage();

            // Add animation class
            lightboxImage.classList.add('slideshow-active');
        }

        function previousImage() {
            const lightboxImage = document.getElementById('lightboxImage');
            // Remove the current class to reset animation
            lightboxImage.classList.remove('slideshow-active');
            // Force reflow
            void lightboxImage.offsetWidth;

            currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
            updateLightboxImage();

            // Add animation class
            lightboxImage.classList.add('slideshow-active');
        }

        function startSlideshow() {
            if (!isSlideshow) {
                isSlideshow = true;
                document.getElementById('slideshowIcon').classList.remove('fa-play');
                document.getElementById('slideshowIcon').classList.add('fa-pause');
                
                document.getElementById('progressBar').style.display = 'block';

                let progress = 0;
                const progressBar = document.getElementById('progressBar');
                const slideDuration = 3000; // 3 seconds per slide
                const updateInterval = 20; // Update every 20ms for smoother animation
                const increment = (updateInterval / slideDuration) * 100;

                slideshowInterval = setInterval(() => {
                    progress += increment;
                    progressBar.style.width = `${progress}%`;

                    if (progress >= 100) {
                        progress = 0;
                        progressBar.style.width = '0%';
                        // Add fadeOut class to current image
                        const lightboxImage = document.getElementById('lightboxImage');
                        lightboxImage.classList.add('slideshow-active');
                        nextImage();
                        // Remove fadeOut class after animation completes
                        setTimeout(() => {
                            lightboxImage.classList.remove('slideshow-active');
                        }, 500);
                    }
                }, updateInterval);
            } else {
                stopSlideshow();
            }
        }

        function stopSlideshow() {
            isSlideshow = false;
            clearInterval(slideshowInterval);
            document.getElementById('slideshowIcon').classList.remove('fa-pause');
            document.getElementById('slideshowIcon').classList.add('fa-play');
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('progressBar').style.width = '0%';
        }

        function toggleFullscreen() {
            if (!isFullscreen) {
                if (document.documentElement.requestFullscreen) {
                    document.documentElement.requestFullscreen();
                }
                document.getElementById('fullscreenIcon').classList.remove('fa-expand');
                document.getElementById('fullscreenIcon').classList.add('fa-compress');
                isFullscreen = true;
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
                document.getElementById('fullscreenIcon').classList.remove('fa-compress');
                document.getElementById('fullscreenIcon').classList.add('fa-expand');
                isFullscreen = false;
            }
        }

        function exitFullscreen() {
            if (isFullscreen && document.exitFullscreen) {
                document.exitFullscreen();
                document.getElementById('fullscreenIcon').classList.remove('fa-compress');
                document.getElementById('fullscreenIcon').classList.add('fa-expand');
                isFullscreen = false;
            }
        }

        function toggleThumbnails() {
            const panel = document.getElementById('thumbnailPanel');
            if (!thumbnailsVisible) {
                panel.classList.remove('thumbnail-hidden');
                thumbnailsVisible = true;
            } else {
                panel.classList.add('thumbnail-hidden');
                thumbnailsVisible = false;
            }
        }

        function populateThumbnails() {
            const thumbnailGrid = document.getElementById('thumbnailGrid');
            thumbnailGrid.innerHTML = '';

            images.forEach((image, index) => {
                const thumbnailDiv = document.createElement('div');
                thumbnailDiv.className = 'position-relative cursor-pointer thumbnail-hover';
                thumbnailDiv.onclick = () => selectThumbnail(index);
                thumbnailDiv.innerHTML = `
                        <img src="${image.src}" alt="${image.alt}" class="w-100 thumbnail-img rounded ${index === currentImageIndex ? 'active-thumbnail' : ''}">
                        ${index === currentImageIndex ? '<div class="position-absolute top-0 start-0 w-100 h-100 bg-overlay rounded"></div>' : ''}
                    `;
                thumbnailGrid.appendChild(thumbnailDiv);
            });
        }

        function selectThumbnail(index) {
            currentImageIndex = index;
            updateLightboxImage();
        }

        function updateActiveThumbnail() {
            const thumbnails = document.querySelectorAll('#thumbnailGrid > div');
            thumbnails.forEach((thumb, index) => {
                const img = thumb.querySelector('img');
                const overlay = thumb.querySelector('div');
                if (index === currentImageIndex) {
                    img.classList.add('active-thumbnail');
                    if (!overlay) {
                        thumb.innerHTML += '<div class="position-absolute top-0 start-0 w-100 h-100 bg-overlay rounded"></div>';
                    }
                } else {
                    img.classList.remove('active-thumbnail');
                    if (overlay) {
                        overlay.remove();
                    }
                }
            });
        }

        function openShareModal() {
            const modal = document.getElementById('shareModal');
            modal.style.display = 'flex';
            modal.classList.add('d-flex', 'align-items-center', 'justify-content-center');
        }

        function closeShareModal() {
            const modal = document.getElementById('shareModal');
            modal.style.display = 'none';
            modal.classList.remove('d-flex', 'align-items-center', 'justify-content-center');
        }

        function shareToFacebook() {
            const url = encodeURIComponent('https://www.relaxresetbookdirect.com/cabin-w-fire-pit-and-mtn-views');
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank', 'width=600,height=400');
        }

        function shareToTwitter() {
            const url = encodeURIComponent('https://www.relaxresetbookdirect.com/cabin-w-fire-pit-and-mtn-views');
            const text = encodeURIComponent('Check out this amazing cabin with fire pit and mountain views!');
            window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank', 'width=600,height=400');
        }

        function shareToPinterest() {
            const url = encodeURIComponent('https://www.relaxresetbookdirect.com/cabin-w-fire-pit-and-mtn-views');
            const description = encodeURIComponent('Amazing cabin with fire pit and mountain views');
            const media = encodeURIComponent(images[currentImageIndex].src);
            window.open(`https://pinterest.com/pin/create/button/?url=${url}&description=${description}&media=${media}`, '_blank', 'width=600,height=400');
        }

        async function copyLink() {
            const input = document.querySelector('#shareModal input');
            const text = input.value;

            try {
                // Use modern Clipboard API if available
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    await navigator.clipboard.writeText(text);
                } else {
                    // Fallback to older method
                    input.select();
                    document.execCommand('copy');
                }

                const button = document.getElementById('copied');
                button.textContent = 'Copied!';
                button.classList.add('bg-success', 'text-white', 'px-3', 'py-1', 'rounded');
                button.classList.remove('bg-dark');

                setTimeout(() => {
                    button.textContent = '';
                    button.classList.remove('bg-success');
                    button.innerHTML = '<span class="visually-hidden">copied</span>';
                }, 2000);
            } catch (err) {
                console.error('Failed to copy: ', err);
                alert('Failed to copy link. Please try selecting and copying manually.');
            }
        }

        function searchImages() {
            alert('Search functionality would be implemented here!');
        }
        
        function openShowAll() {
            const modal = document.getElementById('showAllModal');
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Populate all images
            const allImagesGrid = document.getElementById('allImagesGrid');
            allImagesGrid.innerHTML = '';
            
            images.forEach((image, index) => {
                const imgContainer = document.createElement('div');
                imgContainer.className = 'position-relative';
                imgContainer.innerHTML = `
                    <img src="${image.src}" alt="${image.alt}" class="w-100 rounded" onclick="openLightbox(${index})">
                    <p class="text-white mt-2">${image.alt}</p>
                `;
                allImagesGrid.appendChild(imgContainer);
            });
        }

        function closeShowAll() {
            document.getElementById('showAllModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Selection Tab Component JavaScript
        const tabs = [
            { id: 'description', name: 'DESCRIPTION' },
            { id: 'amenities', name: 'AMENITIES' },
            { id: 'availability', name: 'AVAILABILITY' },
            { id: 'location', name: 'LOCATION' },
            { id: 'cancellation', name: 'CANCELLATION POLICY' },
            { id: 'reviews', name: 'REVIEWS' },
        ];
        
        let activeTab = 'description';
        let showMoreDescription = false;
        let showMoreCancellation = false;
        let currentPage = 1;
        const itemsPerPage = 3;
        const totalReviews = 132;
        const totalPages = Math.ceil(totalReviews / itemsPerPage);

        const daysOfWeek = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];

        const juneCalendarDates = [
            { day: 1, status: 'past' },
            { day: 2, status: 'past' },
            { day: 3, status: 'past' },
            { day: 4, status: 'past' },
            { day: 5, status: 'past' },
            { day: 6, status: 'past' },
            { day: 7, status: 'past' },
            { day: 8, status: 'past' },
            { day: 9, status: 'past' },
            { day: 10, status: 'past' },
            { day: 11, status: 'past' },
            { day: 12, status: 'past' },
            { day: 13, status: 'past' },
            { day: 14, status: 'past' },
            { day: 15, status: 'past' },
            { day: 16, status: 'past' },
            { day: 17, status: 'past' },
            { day: 18, status: 'today' },
            { day: 19, status: 'booked' },
            { day: 20, status: 'booked' },
            { day: 21, status: 'booked' },
            { day: 22, status: 'booked' },
            { day: 23, status: 'booked' },
            { day: 24, status: 'booked' },
            { day: 25, status: 'booked' },
            { day: 26, status: 'booked' },
            { day: 27, status: 'booked' },
            { day: 28, status: 'booked' },
            { day: 29, status: 'booked' },
            { day: 30, status: 'booked' },
        ];
        
        // Initialize thumbnails when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Make sure thumbnailPanel starts hidden
            const thumbnailPanel = document.getElementById('thumbnailPanel');
            if (thumbnailPanel) {
                thumbnailPanel.classList.add('thumbnail-hidden');
            }
        });

        const julyCalendarDates = [
            { day: 1, status: 'booked' },
            { day: 2, status: 'booked' },
            { day: 3, status: 'booked' },
            { day: 4, status: 'booked' },
            { day: 5, status: 'booked' },
            { day: 6, status: 'booked' },
            { day: 7, status: 'booked' },
            { day: 8, status: 'booked' },
            { day: 9, status: 'booked' },
            { day: 10, status: 'booked' },
            { day: 11, status: 'available' },
            { day: 12, status: 'available' },
            { day: 13, status: 'booked' },
            { day: 14, status: 'booked' },
            { day: 15, status: 'booked' },
            { day: 16, status: 'booked' },
            { day: 17, status: 'booked' },
            { day: 18, status: 'booked' },
            { day: 19, status: 'available' },
            { day: 20, status: 'booked' },
            { day: 21, status: 'booked' },
            { day: 22, status: 'booked' },
            { day: 23, status: 'booked' },
            { day: 24, status: 'booked' },
            { day: 25, status: 'booked' },
            { day: 26, status: 'booked' },
            { day: 27, status: 'booked' },
            { day: 28, status: 'booked' },
            { day: 29, status: 'booked' },
            { day: 30, status: 'booked' },
            { day: 31, status: 'booked' },
        ];

        const allReviews = [
            {
                title: 'Wonderful stay',
                author: 'Mel H',
                date: 'Jun 2025',
                content: 'Loved the location.',
                rating: 5
            },
            {
                title: 'Quick getaway',
                author: 'Thurston D',
                date: 'May 2025',
                content: 'Just perfect!',
                rating: 5
            },
            {
                title: 'Great location with clean and comfortable accommodations.',
                author: 'Michael P',
                date: 'Mar 2025',
                content: 'A fun get-away beach experience. We look forward to coming back.',
                rating: 5
            },
            {
                title: 'Perfect beach vacation',
                author: 'Sarah J',
                date: 'Feb 2025',
                content: 'Everything was as described. Beautiful view and easy beach access.',
                rating: 5
            },
            {
                title: 'Relaxing weekend',
                author: 'David L',
                date: 'Jan 2025',
                content: 'Clean, comfortable, and right on the beach. What more could you ask for?',
                rating: 5
            },
            {
                title: 'Amazing property',
                author: 'Jessica R',
                date: 'Dec 2024',
                content: 'We loved our stay! The property was clean and the view was incredible.',
                rating: 5
            },
        ];

        // Initialize tabs
        function initializeTabs() {
            const tabContainer = document.querySelector('.md\\:flex.space-x-8.px-6');
            const tabSelect = document.getElementById('tabSelect');
            
            // Clear existing tabs
            tabContainer.innerHTML = '';
            tabSelect.innerHTML = '';
            
            // Add tabs
            tabs.forEach(tab => {
                // Desktop tabs
                const button = document.createElement('button');
                button.className = `py-4 px-2 text-sm cursor-pointer font-medium text-gray-700 hover:text-teal-600 ${activeTab === tab.id ? 'tab-active' : ''}`;
                button.textContent = tab.name;
                button.addEventListener('click', () => scrollSmoothToSection(tab.id));
                tabContainer.appendChild(button);
                
                // Mobile select options
                const option = document.createElement('option');
                option.value = tab.id;
                option.textContent = tab.name;
                option.selected = activeTab === tab.id;
                tabSelect.appendChild(option);
            });
            
            // Add event listener to mobile select
            tabSelect.addEventListener('change', () => scrollSmoothToSection(tabSelect.value));
        }

        // Show/hide more text for description and cancellation
        function initializeShowMoreButtons() {
            document.getElementById('showMoreDescriptionBtn').addEventListener('click', function() {
                const moreDescription = document.getElementById('moreDescription');
                const button = this;
                if (moreDescription.classList.contains('hidden')) {
                    moreDescription.classList.remove('hidden');
                    button.querySelector('span').textContent = 'Show less';
                    button.querySelector('i').classList.remove('fa-chevron-down');
                    button.querySelector('i').classList.add('fa-chevron-up');
                } else {
                    moreDescription.classList.add('hidden');
                    button.querySelector('span').textContent = 'Show more';
                    button.querySelector('i').classList.remove('fa-chevron-up');
                    button.querySelector('i').classList.add('fa-chevron-down');
                }
            });

            document.getElementById('showMoreCancellationBtn').addEventListener('click', function() {
                const moreCancellation = document.getElementById('moreCancellation');
                const button = this;
                if (moreCancellation.classList.contains('hidden')) {
                    moreCancellation.classList.remove('hidden');
                    button.querySelector('span').textContent = 'Show less';
                    button.querySelector('i').classList.remove('fa-chevron-down');
                    button.querySelector('i').classList.add('fa-chevron-up');
                } else {
                    moreCancellation.classList.add('hidden');
                    button.querySelector('span').textContent = 'Show more';
                    button.querySelector('i').classList.remove('fa-chevron-up');
                    button.querySelector('i').classList.add('fa-chevron-down');
                }
            });
        }

        // Calendar initialization
        function initializeCalendars() {
            const juneCalendarGrid = document.getElementById('juneCalendar');
            const julyCalendarGrid = document.getElementById('julyCalendar');
            
            // Add June calendar dates
            juneCalendarDates.forEach(date => {
                const dayDiv = document.createElement('div');
                dayDiv.className = `calendar-date rounded-full w-10 h-10 flex items-center justify-center cursor-pointer text-sm ${getCalendarDateClass(date)}`;
                dayDiv.textContent = date.day;
                juneCalendarGrid.appendChild(dayDiv);
            });
            
            // Add July calendar dates
            julyCalendarDates.forEach(date => {
                const dayDiv = document.createElement('div');
                dayDiv.className = `calendar-date rounded-full w-10 h-10 flex items-center justify-center cursor-pointer text-sm ${getCalendarDateClass(date)}`;
                dayDiv.textContent = date.day;
                julyCalendarGrid.appendChild(dayDiv);
            });
        }

        function getCalendarDateClass(date) {
            switch (date.status) {
                case 'past':
                    return 'bg-gray-300 text-gray-600';
                case 'today':
                    return 'bg-teal-600 text-white font-semibold';
                case 'available':
                    return 'bg-gray-600 text-white';
                case 'booked':
                    return 'bg-teal-400 text-white';
                default:
                    return '';
            }
        }

        // Reviews and pagination
        function updateReviews() {
            const reviewsContainer = document.getElementById('reviewsContainer');
            reviewsContainer.innerHTML = '';
            
            // Calculate visible reviews
            const reviewStart = (currentPage - 1) * itemsPerPage;
            const reviewEnd = Math.min(reviewStart + itemsPerPage, allReviews.length);
            const visibleReviews = allReviews.slice(reviewStart, reviewEnd);
            
            // Add reviews
            visibleReviews.forEach(review => {
                const reviewDiv = document.createElement('div');
                reviewDiv.className = 'bg-white p-6 border border-gray-200 rounded-lg shadow-sm review-card';
                
                let stars = '';
                for (let i = 0; i < review.rating; i++) {
                    stars += '<i class="fa-solid fa-star text-yellow-400"></i>';
                }
                
                reviewDiv.innerHTML = `
                    <div class="flex justify-between mb-2">
                        <h3 class="font-medium text-lg">${review.title}</h3>
                        <div class="flex space-x-1">${stars}</div>
                    </div>
                    <div class="flex items-center text-gray-500 text-sm mb-3">
                        <span>${review.author}</span>
                        <span class="mx-2">â¢</span>
                        <span>${review.date}</span>
                    </div>
                    <p class="text-gray-600">${review.content}</p>
                `;
                
                reviewsContainer.appendChild(reviewDiv);
            });
            
            // Update review range text
            const rangeStart = (currentPage - 1) * itemsPerPage + 1;
            const rangeEnd = Math.min(currentPage * itemsPerPage, totalReviews);
            document.getElementById('reviewRange').textContent = `Showing ${rangeStart} - ${rangeEnd} of ${totalReviews} reviews`;
            
            // Update pagination
            updatePagination();
        }

        function updatePagination() {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';
            
            // Previous button
            const prevButton = document.createElement('button');
            prevButton.className = `w-10 h-10 flex items-center justify-center rounded-md ${currentPage === 1 ? 'text-gray-400 cursor-not-allowed' : 'text-gray-700 hover:bg-gray-100'}`;
            prevButton.innerHTML = '<i class="fa-solid fa-chevron-left"></i>';
            prevButton.disabled = currentPage === 1;
            prevButton.addEventListener('click', prevPage);
            pagination.appendChild(prevButton);
            
            // Page buttons
            const displayedPages = getDisplayedPages();
            displayedPages.forEach(page => {
                if (page === '...') {
                    const ellipsis = document.createElement('span');
                    ellipsis.className = 'w-10 h-10 flex items-center justify-center';
                    ellipsis.textContent = '...';
                    pagination.appendChild(ellipsis);
                } else {
                    const pageButton = document.createElement('button');
                    pageButton.className = `w-10 h-10 flex items-center justify-center rounded-md ${currentPage === page ? 'bg-teal-600 text-white' : 'text-gray-700 hover:bg-gray-100'}`;
                    pageButton.textContent = page;
                    pageButton.addEventListener('click', () => goToPage(page));
                    pagination.appendChild(pageButton);
                }
            });
            
            // Next button
            const nextButton = document.createElement('button');
            nextButton.className = `w-10 h-10 flex items-center justify-center rounded-md ${currentPage === totalPages ? 'text-gray-400 cursor-not-allowed' : 'text-gray-700 hover:bg-gray-100'}`;
            nextButton.innerHTML = '<i class="fa-solid fa-chevron-right"></i>';
            nextButton.disabled = currentPage === totalPages;
            nextButton.addEventListener('click', nextPage);
            pagination.appendChild(nextButton);
        }

        function getDisplayedPages() {
            if (totalPages <= 7) {
                return Array.from({ length: totalPages }, (_, i) => i + 1);
            }

            const pages = [1];

            if (currentPage > 3) {
                pages.push('...');
            }

            // Pages around current
            const rangeStart = Math.max(2, currentPage - 1);
            const rangeEnd = Math.min(totalPages - 1, currentPage + 1);

            for (let i = rangeStart; i <= rangeEnd; i++) {
                pages.push(i);
            }

            if (currentPage < totalPages - 2) {
                pages.push('...');
            }

            pages.push(totalPages);

            return pages;
        }

        function previousMonth() {
            // Logic to navigate to previous month
            // Would need API call in real application
            alert('Previous month navigation would be implemented here');
        }

        function nextMonth() {
            // Logic to navigate to next month
            // Would need API call in real application
            alert('Next month navigation would be implemented here');
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                updateReviews();
            }
        }

        function nextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                updateReviews();
            }
        }

        function goToPage(page) {
            if (typeof page === 'number') {
                currentPage = page;
                updateReviews();
            }
        }

        function scrollSmoothToSection(sectionId) {
            activeTab = sectionId;
            initializeTabs(); // Update active tab styling
            
            const section = document.getElementById(sectionId);
            if (section) {
                // Calculate position with offset for the fixed header
                const offset = 180; // Adding extra space below the header
                const elementPosition = section.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - offset;

                // Scroll to the adjusted position
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        }

        // Keyboard navigation handler
        function handleKeyDown(e) {
            if (document.getElementById('lightboxModal').classList.contains('hidden')) return;

            switch (e.key) {
                case 'ArrowLeft':
                    previousImage();
                    break;
                case 'ArrowRight':
                case ' ':
                    e.preventDefault();
                    nextImage();
                    break;
                case 'Escape':
                    closeLightbox();
                    break;
                case 'f':
                case 'F':
                    toggleFullscreen();
                    break;
            }
        }

        // Fullscreen change handler
        function handleFullscreenChange() {
            isFullscreen = !!document.fullscreenElement;
            if (isFullscreen) {
                document.getElementById('fullscreenIcon').classList.remove('fa-expand');
                document.getElementById('fullscreenIcon').classList.add('fa-compress');
            } else {
                document.getElementById('fullscreenIcon').classList.remove('fa-compress');
                document.getElementById('fullscreenIcon').classList.add('fa-expand');
            }
        }

        // Initialize everything when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeTabs();
            initializeShowMoreButtons();
            initializeCalendars();
            updateReviews();
            
            // Set up event listeners for keyboard navigation
            window.addEventListener('keydown', handleKeyDown);
            document.addEventListener('fullscreenchange', handleFullscreenChange);
        });
    </script>
</body>
</html>
